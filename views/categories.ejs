<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <%- include('partials/header') %>

    <div class="container mx-auto px-6 py-12">
      <!-- Page Header -->
      <header class="mb-10 text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900">
          <%= title %>
        </h1>
        <p class="mt-2 text-lg text-gray-600">
          Browse technologies by their functional group.
        </p>
      </header>

      <!-- Categories Grid -->
      <main
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
      >
        <% if (categories && categories.length) { %>
          <% categories.forEach(category => { %>
          <!-- The DIV has been changed to an A tag to make the whole card clickable -->
          <a
            href="<%= category.url %>%>"
            class="group block p-6 bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1"
          >
            <div class="flex flex-col items-center text-center">
              <!-- Logo Section -->
              <div class="w-20 h-20 mb-4 flex items-center justify-center">
                <% if (category.logo_url) { %>
                <img
                  src="<%= category.logo_url %>"
                  alt="<%= category.name %> logo"
                  class="max-w-full max-h-full object-contain"
                />
                <% } else { %>
                <!-- Placeholder SVG if no logo is provided -->
                <svg
                  class="w-16 h-16 text-gray-300"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"
                  />
                </svg>
                <% } %>
              </div>

              <!-- Name -->
              <h2
                class="text-2xl font-semibold text-gray-900 mb-2 group-hover:text-indigo-600 transition-colors truncate w-full"
              >
                <%= category.name %>
              </h2>

              <!-- Description Snippet -->
              <p class="text-gray-500 text-sm">
                <%= category.description.substring(0, 70) %>...
              </p>
            </div>
          </a>
          <% }); %>
        <% } else { %>
          <p class="text-center text-gray-500 col-span-full">
            No categories found.
          </p>
        <% } %>
      </main>

      <!-- Footer Navigation -->
      <footer class="mt-12 text-center">
        <a
          href="/"
          class="text-indigo-600 hover:text-indigo-800 font-semibold transition-colors"
          >&larr; Back to Home</a
        >
      </footer>
    </div>
  </body>
</html>

